<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Borrowed borrows</title>
  <%- include('./nav.ejs'); %>
</head>

<body>
  <h2><%-title%></h2>
  <table class="table">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Book ID</th>
        <th scope="col">Title</th>
        <th scope="col">Borrower Id</th>
        <th scope="col">Borrower Name</th>
        <th scope="col">Check out Date</th>
        <th scope="col">Check in Date</th>
        <th scope="col">Return</th>
      </tr>
    </thead>
    <tbody>
      <% borrowed.forEach(borrow=> { %>
        <tr>
          <th scope="row">
            <%= borrow.id %>
          </th>
          <td>
            <%= borrow.bookId %>
          </td>
          <td>
            <%= borrow.title %>
          </td>
          <td>
            <%= borrow.borrowerId %>
          </td>
          <td>
            <%= borrow.name %>
          </td>
          <td>
            <%= borrow.checkoutDate %>
          </td>
          <td>
            <%= borrow.checkinDate %>
          </td>
          <td>
            <form <% if (borrow.checkinDate) { %>style="display: none;"<% }%> action="/borrowedbooks/return/<%= borrow.id %>?_method=PUT" method="POST">
              <button class="btn btn-danger" type="submit">Return</button>
            </form>
          </td>
        </tr>
        <% }); %>
    </tbody>
  </table>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>

</body>

</html>